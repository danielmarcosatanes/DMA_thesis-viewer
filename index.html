<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Molecule Viewer</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="jsmol.min.js"></script>
</head>
<body>
    <div id="sidebar">
        <h2>Sections</h2>
        <ul>
            <li><a href="#section1">Section 1</a></li>
            <li><a href="#section2">Section 2</a></li>
            <li><a href="#section3">Section 3</a></li>
        </ul>
    </div>

    <div id="content">
        <main>
            <!-- Section 1 -->
            <section id="section1">
                <h3>Section 1</h3>
                <div id="jsmol1" class="jsmol-container"></div>
                <p>Select a molecule for Section 1:</p>
                <select onchange="loadMolecule(1)">
                    <option value="44a-Bipy-Ir(Bpin).xyz">44a-Bipy-Ir(Bpin)</option>
                    <option value="44a-Bipy-Ir(Bpin)3.xyz">44a-Bipy-Ir(Bpin)3</option>
                </select>
            </section>

            <!-- Section 2 -->
            <section id="section2">
                <h3>Section 2</h3>
                <div id="jsmol2" class="jsmol-container"></div>
                <p>Select a molecule for Section 2:</p>
                <select onchange="loadMolecule(2)">
                    <option value="44a-Bipy-Ir(Bpin).xyz">44a-Bipy-Ir(Bpin)</option>
                    <option value="44a-Bipy-Ir(Bpin)3.xyz">44a-Bipy-Ir(Bpin)3</option>
                </select>
            </section>

            <!-- Section 3 -->
            <section id="section3">
                <h3>Section 3</h3>
                <div id="jsmol3" class="jsmol-container"></div>
                <p>Select a molecule for Section 3:</p>
                <select onchange="loadMolecule(3)">
                    <option value="44a-Bipy-Ir(Bpin).xyz">44a-Bipy-Ir(Bpin)</option>
                    <option value="44a-Bipy-Ir(Bpin)3.xyz">44a-Bipy-Ir(Bpin)3</option>
                </select>
            </section>
        </main>
    </div>

    <script type="text/javascript">
        // Initialize JSmol applets for each section
        const info1 = {
            width: 600,
            height: 400,
            j2sPath: "j2s",  // Path to JSmol j2s folder
            script: "load molecules/44a-Bipy-Ir(Bpin).xyz"
        };
        const info2 = {
            width: 600,
            height: 400,
            j2sPath: "j2s",  // Path to JSmol j2s folder
            script: "load molecules/44a-Bipy-Ir(Bpin)3.xyz"
        };
        const info3 = {
            width: 600,
            height: 400,
            j2sPath: "j2s",  // Path to JSmol j2s folder
            script: "load molecules/anotherMolecule.xyz"
        };

        // Create JSmol applets
        var jsmol1 = Jmol.getApplet("jsmol1", info1);
        var jsmol2 = Jmol.getApplet("jsmol2", info2);
        var jsmol3 = Jmol.getApplet("jsmol3", info3);

        // Display JSmol applets in the HTML
        document.getElementById("jsmol1").innerHTML = Jmol.getAppletHtml("jsmol1");
        document.getElementById("jsmol2").innerHTML = Jmol.getAppletHtml("jsmol2");
        document.getElementById("jsmol3").innerHTML = Jmol.getAppletHtml("jsmol3");

        // Function to load a molecule into the corresponding JSmol applet
        function loadMolecule(section) {
            const moleculeSelect = document.querySelector(`#section${section} select`);
            const selectedMolecule = moleculeSelect.value;
            let applet = (section === 1) ? jsmol1 : (section === 2) ? jsmol2 : jsmol3;
            Jmol.script(applet, `load 'molecules/${selectedMolecule}';`);
        }
    </script>
</body>
</html>
