<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DMA Thesis: 3D Molecule Viewer</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="JSmol.min.js"></script>
</head>
<body>
    <!-- Sidebar -->
    <div id="sidebar">
        <header>DMA Thesis</header>
        <div id="menu">
            <a href="#" onclick="showHome()">Home</a>
            <a href="#" onclick="showSection('structures')">Structures</a>
            <div id="structures-menu" class="subsections">
                <a href="#" onclick="showSection('section7.1')">Structures section 7.1</a>
                <div id="molecules7.1" class="molecules-list"></div>
                <a href="#" onclick="showSection('section7.2')">Structures section 7.2</a>
                <div id="molecules7.2" class="molecules-list"></div>
                <a href="#" onclick="showSection('section7.3')">Structures section 7.3</a>
                <div id="molecules7.3" class="molecules-list"></div>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div id="content">
        <!-- Home Page (initially visible) -->
        <div id="home-page">
            <h1 id="home-header">DMA Thesis: 3D Molecule Viewer</h1>
            <p>Welcome to the DMA Thesis 3D Molecule Visualizer. This tool allows you to explore the molecular structures discussed in the thesis. Use the menu to navigate through various sections and visualize the corresponding molecules.</p>
        </div>

        <!-- Molecule Viewer (hidden by default) -->
        <div id="molecule-viewer" style="display:none;">
            <h3 id="molecule-title"></h3>
            <div id="jsmol-container"></div>
        </div>
    </div>

    <script type="text/javascript">
        var Info = {
            width: 700,
            height: 400,
            j2sPath: "j2s",
            color: "white",
            use: "HTML5",
            disableJ2SLoadMonitor: true,
            disableInitialConsole: true
        };

        // Show the Home page on load (set as default landing page)
        window.onload = function() {
            showHome();
        };

        function showHome() {
            document.getElementById('home-page').style.display = 'block';  // Show the Home page
            document.getElementById('molecule-viewer').style.display = 'none';  // Hide molecule viewer
            document.getElementById('structures-menu').style.display = 'none';  // Hide the structures menu
        }

        function showSection(sectionId) {
            document.getElementById('home-page').style.display = 'none';  // Hide Home page content
            document.getElementById('molecule-viewer').style.display = 'none';  // Hide molecule viewer
            document.getElementById('structures-menu').style.display = 'block';  // Show the structures menu
            const subsections = document.querySelectorAll('.subsections');
            subsections.forEach(function(subsection) {
                subsection.style.display = 'none';  // Hide all subsections
            });

            if (sectionId === 'structures') {
                document.getElementById('structures-menu').style.display = 'block';  // Show Structures menu
            } else {
                document.getElementById(sectionId).style.display = 'block';  // Show specific section
                populateMolecules(sectionId);  // Populate molecules for the section
            }
        }

        function populateMolecules(sectionId) {
            let molecules = [];
            if (sectionId === 'section7.1') {
                molecules = ["Ir(Bpin)", "Ir(Bpin)3"];
            } else if (sectionId === 'section7.2') {
                molecules = ["Ir(Bpin)", "Ir(Bpin)3"];
            } else if (sectionId === 'section7.3') {
                molecules = ["Ir(Bpin)", "Ir(Bpin)3"];
            }

            const moleculesList = document.getElementById('molecules' + sectionId.split('section')[1]);
            moleculesList.innerHTML = ''; // Clear previous list

            molecules.forEach(function(molecule) {
                const link = document.createElement('a');
                link.href = '#';
                link.innerHTML = molecule;
                link.onclick = function() {
                    showMolecule(molecule);
                };
                moleculesList.appendChild(link);
            });
        }

        function showMolecule(moleculeName) {
            document.getElementById('home-page').style.display = 'none';  // Hide Home page
            document.getElementById('structures-menu').style.display = 'none';  // Hide Structures menu
            document.getElementById('molecule-viewer').style.display = 'block';  // Show molecule viewer
            document.getElementById('molecule-title').innerText = moleculeName;  // Display molecule title
            loadJSmol(moleculeName);  // Load the molecule visualization
        }

        function loadJSmol(moleculeName) {
            const jsmolContainer = document.getElementById('jsmol-container');
            jsmolContainer.innerHTML = ''; // Clear any previous molecule display
            const jsmolApplet = Jmol.getApplet(moleculeName, Info);
            jsmolContainer.innerHTML = Jmol.getAppletHtml(jsmolApplet);
            Jmol.script(jsmolApplet, "load 'molecules/" + moleculeName + ".xyz';");
        }
    </script>
</body>
</html>
