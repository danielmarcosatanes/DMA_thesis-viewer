<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DMA Thesis: 3D Molecule Viewer</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="JSmol.min.js"></script>
</head>
<body>
    <div id="main-container">
        <div id="sidebar">
            <header>
                <h2>DMA Thesis</h2>
                <input type="text" id="sidebar-search" placeholder="Search..." onkeyup="searchMenu()">
            </header>

            <div id="menu">
                <a href="#" id="home-link" onclick="showHome(); setActiveLink('home-link')">Home</a>
                <a href="#" id="structures-link" onclick="toggleStructuresMenu(); setActiveLink('structures-link')">Structures</a>

                <div id="structures-menu" style="display: none;">
                    <a href="#" onclick="showSection('section7.1'); setActiveLink('section7.1')">Structures section 7.1</a>
                    <div id="subsections7.1" class="subsections" style="display: none;">
                        <a href="#" onclick="showSubsection('subsection44aBipyIrHBpin2'); setActiveLink('subsection44aBipyIrHBpin2')">44a-Bipy-Ir-H-Bpin2</a>
                        <a href="#" onclick="showSubsection('subsection44aBipyIrBpin'); setActiveLink('subsection44aBipyIrBpin')">44a-Bipy-Ir(Bpin)</a>
                    </div>
                    <a href="#" onclick="showSection('section7.2'); setActiveLink('section7.2')">Structures section 7.2</a>
                    <div id="subsections7.2" class="subsections" style="display: none;">
                        <a href="#" onclick="showSubsection('subsection44aBipyIrBpin3'); setActiveLink('subsection44aBipyIrBpin3')">44a-Bipy-Ir(Bpin)3</a>
                        <a href="#" onclick="showSubsection('subsection44aBipyIrBpin5'); setActiveLink('subsection44aBipyIrBpin5')">44a-Bipy-Ir(Bpin)5</a>
                    </div>
                    <a href="#" onclick="showSection('section7.3'); setActiveLink('section7.3')">Structures section 7.3</a>
                    <div id="subsections7.3" class="subsections" style="display: none;">
                        <a href="#" onclick="showSubsection('subsection44a'); setActiveLink('subsection44a')">44a</a>
                        <a href="#" onclick="showSubsection('subsection45a'); setActiveLink('subsection45a')">45a</a>
                    </div>
                </div>
            </div>

            <footer>
                2024 DMA Thesis Viewer. All rights reserved.
            </footer>
        </div>

        <div id="content">
            <div id="home-page" style="display: block;">
                <h1 id="home-header" style="color: #28528E;">DMA Thesis: 3D Molecule Viewer</h1>
                <p>Welcome to the DMA Thesis 3D Molecule Visualizer. This tool allows you to explore the molecular structures discussed in the thesis. Use the menu to navigate through various sections and visualize the corresponding molecules.</p>
            </div>

            <div id="message" style="display: none;">Select a structure section</div>

            <div id="section7.1" style="display:none;">
                <h2>Structures section 7.1</h2>
                <p>Relevant 3D structures for section 7.1 of the discussion.</p>
            </div>
            <div id="section7.2" style="display:none;">
                <h2>Structures section 7.2</h2>
                <p>Relevant 3D structures for section 7.2 of the discussion.</p>
            </div>
            <div id="section7.3" style="display:none;">
                <h2>Structures section 7.3</h2>
                <p>Relevant 3D structures for section 7.3 of the discussion.</p>
            </div>

            <div id="subsection44aBipyIrHBpin2" style="display:none;">
                <h3>44a-Bipy-Ir-H-Bpin2</h3>
                <div id="jsmolContainer44aBipyIrHBpin2" class="jsmolContainer"></div>
            </div>

            <div id="subsection44aBipyIrBpin" style="display:none;">
                <h3>44a-Bipy-Ir(Bpin)</h3>
                <div id="jsmolContainer44aBipyIrBpin" class="jsmolContainer"></div>
            </div>

            <div id="subsection44aBipyIrBpin3" style="display:none;">
                <h3>44a-Bipy-Ir(Bpin)3</h3>
                <div id="jsmolContainer44aBipyIrBpin3" class="jsmolContainer"></div>
            </div>

            <div id="subsection44aBipyIrBpin5" style="display:none;">
                <h3>44a-Bipy-Ir(Bpin)5</h3>
                <div id="jsmolContainer44aBipyIrBpin5" class="jsmolContainer"></div>
            </div>

            <div id="subsection44a" style="display:none;">
                <h3>44a</h3>
                <div id="jsmolContainer44a" class="jsmolContainer"></div>
            </div>

            <div id="subsection45a" style="display:none;">
                <h3>45a</h3>
                <div id="jsmolContainer45a" class="jsmolContainer"></div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        var Info = {
            width: 700,
            height: 400,  // Adjust height for better fitting
            j2sPath: "j2s",
            color: "white",
            use: "HTML5",
            disableJ2SLoadMonitor: true,
            disableInitialConsole: true
        };

        function loadJSmol(containerId, moleculeFile) {
            var container = document.getElementById(containerId);

            if (container) {
                var jsmolApplet = Jmol.getApplet(containerId, Info);
                container.innerHTML = Jmol.getAppletHtml(jsmolApplet);
                Jmol.script(jsmolApplet, "load 'molecules/" + moleculeFile + "';");
            } else {
                console.error("Container with ID " + containerId + " not found.");
            }
        }

        function showSubsection(subsectionId) {
            var subsections = document.querySelectorAll('[id^="subsection"]');
            subsections.forEach(function(subsection) {
                subsection.style.display = 'none';
            });

            document.getElementById(subsectionId).style.display = 'block';

            var containerId = 'jsmolContainer' + subsectionId.split('subsection')[1];
            var moleculeFile = subsectionId.split('subsection')[1] + '.log';

            loadJSmol(containerId, moleculeFile);
        }

        function showHome() {
            document.getElementById('home-page').style.display = 'block';
            document.getElementById('message').style.display = 'none';
            document.getElementById('section7.1').style.display = 'none';
            document.getElementById('section7.2').style.display = 'none';
            document.getElementById('section7.3').style.display = 'none';
            document.getElementById('subsection44aBipyIrHBpin2').style.display = 'none';
            document.getElementById('subsection44aBipyIrBpin').style.display = 'none';
            document.getElementById('subsection44aBipyIrBpin3').style.display = 'none';
            document.getElementById('subsection44aBipyIrBpin5').style.display = 'none';
            document.getElementById('subsection44a').style.display = 'none';
            document.getElementById('subsection45a').style.display = 'none';
            setActiveLink('home-link');
        }

        function toggleStructuresMenu() {
            var menu = document.getElementById('structures-menu');
            menu.style.display = (menu.style.display === 'none' || menu.style.display === '') ? 'block' : 'none';
        }

        function showSection(sectionId) {
            var sections = document.querySelectorAll('#content > div');
            sections.forEach(function(section) {
                section.style.display = 'none';
            });

            document.getElementById(sectionId).style.display = 'block';
            if (sectionId === 'section7.1') {
                document.getElementById('subsections7.1').style.display = 'block';
            } else if (sectionId === 'section7.2') {
                document.getElementById('subsections7.2').style.display = 'block';
            } else if (sectionId === 'section7.3') {
                document.getElementById('subsections7.3').style.display = 'block';
            }
        }

        function showSubsection(subsectionId) {
            var subsections = document.querySelectorAll('[id^="subsection"]');
            subsections.forEach(function(subsection) {
                subsection.style.display = 'none';
            });

            document.getElementById(subsectionId).style.display = 'block';
            loadJSmol('jsmolContainer' + subsectionId, subsectionId.split('subsection')[1] + '.log');
        }

        function setActiveLink(linkId) {
            var links = document.querySelectorAll('a');
            links.forEach(function(link) {
                link.classList.remove('active');
            });
            document.getElementById(linkId).classList.add('active');
        }

        function searchMenu() {
            var input, filter, menu, links, i, txtValue;
            input = document.getElementById('sidebar-search');
            filter = input.value.toUpperCase();
            menu = document.getElementById("menu");
            links = menu.getElementsByTagName('a');
            for (i = 0; i < links.length; i++) {
                txtValue = links[i].textContent || links[i].innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    links[i].style.display = "";
                } else {
                    links[i].style.display = "none";
                }
            }
        }
    </script>
</body>
</html>
